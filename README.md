# Payload-Parser-Service

This is used to parse the .etl file generated by pktmon or some other tool.

## Requirements

1. Install [wireshark dissect](https://github.com/kreypour/wireshark/releases/download/1.0.0.6/wiresharkdissect.exe)
2. Install [payload-parser](https://github.com/nandhu-techie/payload-parser/blob/main/PayloadParser.zip?raw=true)
3. Pktmon.etl(we can use pktmon tool to generate this etl file)[PktMon Tool Docs](https://docs.microsoft.com/en-us/windows-server/networking/technologies/pktmon/pktmon-syntax)

## Input(PktMon.etl)

Path of etl file should be in environment variable ( Example filename: PktMon.etl path be like: C:\Users\nandhu\Documents\PktMon.etl)

Make sure of below paths in ENVIRONMENT VARIABLES

1. PARSER_FILES_PATH : C:\Users\nandhu\Documents\
2. WIRESHARK_DISSECT_DIR : C:\Users\nandhu\Documents\

## Output(Text file)

filename: PktMon.text
path be like: C:\Users\nandhu\Documents\PktMon.text

## Reference link

 1. [Parsing .etl file example](https://github.com/microsoft/perfview/blob/main/documentation/TraceEvent/TraceEventProgrammersGuide.md#component-3-the-event-processor-etwtraceeventsource)
 2. [Wireshark dissect example](https://github.com/kreypour/wireshark)
